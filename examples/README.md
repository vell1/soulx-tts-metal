# 多人播客示例脚本

本目录包含多种类型的播客示例脚本，展示如何使用 SoulX-TTS 创建多人对话播客。

## 📁 文件列表

### 1. `podcast_example_simple.txt` - 基础对话
**主题**: 人工智能的发展  
**角色**: 主持人（女声）+ 嘉宾（男声）  
**特点**: 基础的两人对话形式，适合入门学习

### 2. `podcast_example_debate.txt` - 辩论形式
**主题**: 远程办公 vs 办公室办公  
**角色**: 主持人（女声）+ 正方（男声）+ 反方（女声）  
**特点**: 三人辩论形式，展示多角色互动

### 3. `podcast_example_interview.txt` - 访谈形式
**主题**: 创业者访谈  
**角色**: 主持人（女声）+ 创业者（男声）  
**特点**: 深度访谈形式，包含提问和回答

### 4. `podcast_example_dialect.txt` - 方言版本
**主题**: 家乡的故事  
**角色**: 主持人（普通话）+ 四川朋友（四川话）+ 粤语朋友（粤语）  
**特点**: 展示多方言支持，跨方言对话

## 🎯 使用方法

### 方式 1: Web 界面

1. 启动服务: `python app.py`
2. 访问 http://localhost:8000
3. 切换到"🎙️ 多人播客"标签页
4. 复制示例脚本内容到文本框
5. 调整对话间隔（可选）
6. 点击"🎙️ 生成播客"按钮

### 方式 2: REST API

```bash
# 使用 curl 调用 API
curl -X POST http://localhost:8000/api/podcast \
  -H "Content-Type: application/json" \
  -d '{
    "script": "'$(cat examples/podcast_example_simple.txt | sed 's/"/\\"/g' | tr '\n' ' ')'",
    "silence_duration": 0.5
  }' \
  --output podcast_output.wav
```

### 方式 3: Python 代码

```python
import requests

# 读取脚本文件
with open('examples/podcast_example_simple.txt', 'r', encoding='utf-8') as f:
    script = f.read()

# 调用 API
url = "http://localhost:8000/api/podcast"
data = {
    "script": script,
    "silence_duration": 0.5
}

response = requests.post(url, json=data)

# 保存音频
with open("podcast_output.wav", "wb") as f:
    f.write(response.content)

print("播客已生成: podcast_output.wav")
```

## 📝 脚本格式说明

### 基本结构

```
# 注释行（可选）

# 角色定义
@角色: 角色名称, 声音ID, 方言

# 对话内容
[角色名称]: 对话文本
```

### 角色定义规则

- **格式**: `@角色: 名称, 声音, 方言`
- **名称**: 自定义角色名称（如：主持人、嘉宾、正方）
- **声音**: 可用声音ID（如：女声1、男声1）
- **方言**: 支持普通话、四川话、河南话、粤语

**示例**:
```
@角色: 主持人, 女声1, 普通话
@角色: 嘉宾A, 男声1, 四川话
@角色: 嘉宾B, 女声1, 粤语
```

### 对话格式规则

- **格式**: `[角色名称]: 对话内容`
- **角色名称**: 必须在角色定义中存在
- **对话内容**: 支持中文、标点符号、副语言标签

**示例**:
```
[主持人]: 大家好，欢迎收听今天的节目！
[嘉宾]: 你好，很高兴来到这里。<|laughter|>
```

### 副语言标签

在对话中可以插入以下标签来增强表现力：

- `<|laughter|>` - 笑声
- `<|sigh|>` - 叹气
- `<|breathing|>` - 呼吸声
- `<|coughing|>` - 咳嗽

**示例**:
```
[主持人]: 这个问题很有意思。<|laughter|> 让我来想想。<|sigh|>
```

## 🎨 自定义脚本

### 步骤 1: 定义角色

根据你的需求定义参与者：

```
@角色: 主持人, 女声1, 普通话
@角色: 专家, 男声1, 普通话
@角色: 听众代表, 女声1, 普通话
```

### 步骤 2: 编写对话

按照对话顺序编写内容：

```
[主持人]: 今天我们邀请到了专家来解答问题。
[专家]: 大家好，很高兴来到这里。
[听众代表]: 我想请教一个问题...
[专家]: 这个问题很好，让我来解释一下...
```

### 步骤 3: 添加情感

在适当的地方添加副语言标签：

```
[主持人]: 这个回答太棒了！<|laughter|>
[专家]: 谢谢。<|sigh|> 这也是我研究多年的成果。
```

## 💡 最佳实践

### 1. 角色设计
- 确保角色声音有明显区分（男女声搭配）
- 根据角色性格选择合适的方言
- 角色数量建议 2-4 人，过多会影响理解

### 2. 对话编写
- 每句对话长度适中（20-100 字）
- 避免过长的独白，增加互动
- 使用自然的口语化表达

### 3. 节奏控制
- 通过对话间隔参数调整节奏（0.3-1.0秒）
- 重要转折处可以适当增加停顿
- 使用副语言标签增加自然感

### 4. 方言使用
- 同一角色保持方言一致
- 注意方言的适用场景
- 可以混合使用不同方言增加趣味性

## 🔧 故障排除

### 问题 1: "未定义的角色"错误

**原因**: 对话中使用的角色名称未在角色定义中声明

**解决方案**:
```
# 错误示例
@角色: 主持人, 女声1, 普通话
[嘉宾]: 你好  # 错误：嘉宾未定义

# 正确示例
@角色: 主持人, 女声1, 普通话
@角色: 嘉宾, 男声1, 普通话
[嘉宾]: 你好  # 正确
```

### 问题 2: "未知声音"错误

**原因**: 使用的声音ID不存在

**解决方案**: 查看可用声音列表
- Web 界面：在"多人播客"页面底部查看
- API：访问 http://localhost:8000 查看主页

### 问题 3: 生成时间过长

**原因**: 对话数量过多或文本过长

**优化方案**:
- 将长播客拆分为多个短播客
- 每个对话控制在 50-100 字
- 减少不必要的对话

## 📚 更多示例

访问以下资源获取更多灵感：

- [官方示例库](https://github.com/Soul-AILab/SoulX-Podcast)
- [播客脚本模板集合](examples/)
- [社区贡献脚本](community/)

## 🤝 贡献

欢迎提交你的优秀脚本示例！

1. Fork 项目
2. 创建新的示例脚本
3. 提交 Pull Request

---

**需要帮助？** 查看主 [README.md](../README.md) 或提交 Issue

