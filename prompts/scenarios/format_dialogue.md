# 对话格式化提示词

> 专门用于将未格式化的对话文本转换为 SoulX-TTS 播客脚本格式

---

## 任务说明

你的任务是将用户提供的对话内容格式化为标准的播客脚本格式，重点关注：

1. 识别和区分不同的说话人
2. 添加正确的角色定义和对话标记
3. 保持原有对话内容不变
4. 确保格式完全符合系统要求

---

## 快速提示词

```
请将以下对话内容格式化为 SoulX-TTS 播客脚本：

要求：
1. 识别对话中的所有说话人
2. 为每个说话人添加 @角色 定义（格式：@角色: 名称, 声音, 方言）
3. 将对话转换为 [角色名称]: 内容 格式
4. 不要改变原有对话内容
5. 可用声音：女声1、男声1
6. 可用方言：普通话、四川话、河南话、粤语

对话内容：
[粘贴对话]
```

---

## 处理步骤

### 步骤 1：识别说话人

分析对话，识别有多少个不同的说话人：
- 通过对话标记（如 "A:"、"甲："）
- 通过上下文推断
- 通过称呼和互动关系

### 步骤 2：分配角色

为每个说话人分配合适的角色名称：
- 如果对话中有明确身份（如"主持人"），直接使用
- 如果没有明确身份，使用通用名称（如"说话人A"、"说话人B"）
- 根据对话内容推断身份（如"专家"、"学生"）

### 步骤 3：选择声音和方言

- 默认使用普通话
- 男性角色使用"男声1"，女性角色使用"女声1"
- 如果无法判断性别，交替使用以区分
- 如果对话涉及地域特色，可以使用方言

### 步骤 4：格式化输出

```
# 角色定义
@角色: [识别的角色1], [选择的声音], [选择的方言]
@角色: [识别的角色2], [选择的声音], [选择的方言]

# 对话内容
[角色1]: [对话内容]
[角色2]: [对话内容]
```

---

## 示例

### 示例 1：带标记的对话

**输入**:
```
A: 你好，今天天气不错。
B: 是的，很适合出去走走。
A: 要不要一起去公园？
B: 好啊，走吧。
```

**输出**:
```
# 角色定义
@角色: 说话人A, 女声1, 普通话
@角色: 说话人B, 男声1, 普通话

# 对话内容
[说话人A]: 你好，今天天气不错。
[说话人B]: 是的，很适合出去走走。
[说话人A]: 要不要一起去公园？
[说话人B]: 好啊，走吧。
```

### 示例 2：无标记的对话

**输入**:
```
你好，请问这本书怎么卖？
这本书 35 元。
有没有优惠？
今天打九折，31.5 元。
好的，我买了。
```

**输出**:
```
# 角色定义
@角色: 顾客, 女声1, 普通话
@角色: 店员, 男声1, 普通话

# 对话内容
[顾客]: 你好，请问这本书怎么卖？
[店员]: 这本书三十五元。
[顾客]: 有没有优惠？
[店员]: 今天打九折，三十一块五。
[顾客]: 好的，我买了。
```

### 示例 3：多人对话

**输入**:
```
老师：同学们好，今天我们学习古诗。
小明：老师好！
小红：老师好！
老师：谁能背诵一首古诗？
小明：我来！静夜思...
```

**输出**:
```
# 角色定义
@角色: 老师, 女声1, 普通话
@角色: 小明, 男声1, 普通话
@角色: 小红, 女声1, 普通话

# 对话内容
[老师]: 同学们好，今天我们学习古诗。
[小明]: 老师好！
[小红]: 老师好！
[老师]: 谁能背诵一首古诗？
[小明]: 我来！床前明月光，疑是地上霜。举头望明月，低头思故乡。
```

---

## 特殊情况处理

### 情况 1：对话包含旁白

将旁白单独作为一个角色：

```
# 角色定义
@角色: 旁白, 女声1, 普通话
@角色: 角色A, 男声1, 普通话

# 对话内容
[旁白]: 在一个阳光明媚的早晨。
[角色A]: 今天真是个好天气。
```

### 情况 2：对话中有动作描述

将动作描述融入对话或作为旁白：

**原文**: 
```
他走进房间，说："大家好。"
她微笑着回答："你好。"
```

**转换**:
```
@角色: 他, 男声1, 普通话
@角色: 她, 女声1, 普通话

[他]: 大家好。
[她]: 你好。
```

### 情况 3：对话包含引用

保持引用内容不变：

```
[专家]: 正如鲁迅先生所说，"时间就像海绵里的水，挤挤总会有的。"
```

---

## 质量检查

格式化完成后，检查：

- [ ] 每个说话人都有对应的角色定义
- [ ] 角色名称在整个对话中一致
- [ ] 所有对话都使用 `[角色名称]:` 格式
- [ ] 没有遗漏或重复的对话
- [ ] 声音和方言的分配合理
- [ ] 格式符合系统要求

---

## 使用建议

1. **先分析后格式化**: 先通读对话，理解结构，再开始格式化
2. **保持原意**: 格式化时不要改变对话内容的意思
3. **合理推断**: 当信息不完整时，基于上下文合理推断
4. **一致性**: 确保同一说话人的角色名称在全文保持一致

---

**相关提示词**:
- [主提示词](../podcast_generation_prompt.md) - 完整功能提示词
- [情感标签添加](add_emotions.md) - 添加情感表达
- [多方言脚本](multi_dialect.md) - 多方言混合

